plugins {
    id 'java'
    id "name.remal.sonarlint" version "1.5.0"
}

defaultTasks 'clean', 'build'

repositories {
    mavenCentral()
}

dependencies {
    testImplementation platform("org.junit:junit-bom:5.8.2")
    testImplementation "org.junit.jupiter:junit-jupiter:"
    testImplementation "org.assertj:assertj-core:3.23.1"
}

test {
    useJUnitPlatform()

    testLogging {
        afterSuite { desc, result ->
            if (!desc.parent) { // will match the outermost suite
                println "Results: " +
                        "${result.resultType} (${result.testCount} tests, " +
                        "${result.successfulTestCount} successes, ${result.failedTestCount} failures, " +
                        "${result.skippedTestCount} skipped)"
            }
        }
    }
}
